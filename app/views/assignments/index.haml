
.nav
  .nav_view
    %form
      #radio
        %input#radio1{:name => "radio", :type => "radio"}/
        %label{:for => "radio1"} Week
        %input#radio2{:checked => "checked", :name => "radio", :type => "radio"}/
        %label{:for => "radio2"} Month

    = link_to "Week", user_assignments_path(current_user, :query => 'week', :which => params[:which]), {:id => 'week_view'} 
    = link_to "Month", user_assignments_path(current_user, :query => 'month', :which => params[:which]), {:id => 'month_view'}     


  %h1 My Assignments
  - if params[:query] == 'week'
    = link_to "prev week", user_assignments_path(current_user, :query => 'week', :which => params[:which].to_date.prev_week), 
      {:class => "which_btn"}
    = link_to "this week", user_assignments_path(current_user, :query => 'week', :which => Date.today.beginning_of_week), 
      {:class => "which_btn"}

    = link_to "next week", user_assignments_path(current_user, :query => 'week', :which => params[:which].to_date.next_week), 
      {:class => "which_btn"}


  - elsif params[:query] == 'month'
    = link_to "prev month", user_assignments_path(current_user, :query => 'month', :which => params[:which].to_date.prev_month)
    = link_to "this month", user_assignments_path(current_user, :query => 'month', :which => Date.today.beginning_of_month)
    = link_to "next month", user_assignments_path(current_user, :query => 'month', :which => params[:which].to_date.next_month)

.new_assignment_button
  = link_to "add assignment", new_user_assignment_path(current_user)

-if params[:query] == 'week'
  - @key_to_day = {1 => "Monday", 2 => "Tuesday", 3 => "Wednesday", 4 => "Thursday", 5 => "Friday", 6 => "Saturday", 0 => "Sunday", }
  .left_side_days 
    - @as_grouped_left.each do |dayn,as|
      .assignment_box
        %p.day_heading 
          = @key_to_day[dayn]
          = getDate(dayn, params[:which].to_date).to_formatted_s(:long) 
        - if !as.empty?
          - as.each do |a|
            %div{:class => (a.completed ? "completed" : "not_completed")}
              .due_time 
                = a.due_date.strftime("%H:%M");
              .subject
                = a.subject
              .description
                = a.description
              .delete_as_button
                -#for delete, just use the one for show
                = link_to "delete", user_assignment_path(current_user, a), :method => :delete

              .completed_as_button
                = link_to "edit", edit_user_assignment_path(current_user,a)
  .right_side_days 
    - @as_grouped_right.each do |dayn,as|
      .assignment_box
        %p.day_heading 
          = @key_to_day[dayn]
          = getDate(dayn, params[:which].to_date).to_formatted_s(:long) 
        - if !as.empty?
          - as.each do |a|
            %div{:class => (a.completed ? "completed" : "not_completed")}
              .due_time 
                = a.due_date.strftime("%H:%M");
              .subject
                = a.subject
              .description
                = a.description
              .delete_as_button
                -#for delete, just use the one for show
                = link_to "delete", user_assignment_path(current_user, a), :method => :delete

              .completed_as_button
                = link_to "edit", edit_user_assignment_path(current_user,a)


        
- if params[:query] == 'month'
  %h4
    = params[:which].to_date.strftime("%B, %Y")
  - @list_each_week= []
  - @list_each_week << @days_in_cal_month[0..6]
  - @list_each_week << @days_in_cal_month[7..13]
  - @list_each_week << @days_in_cal_month[14..20]
  - @list_each_week << @days_in_cal_month[21..27]
  - @list_each_week << @days_in_cal_month[28..34]
  %table
    %tr
      %th Sunday
      %th Monday
      %th Tuesday
      %th Wednesday
      %th Thursday
      %th Friday
      %th Saturday
    %tr
    - @list_each_week.each do |week|
      /- binding.pry
      %tr 
        -week.each do |date|
          %td
            = date.strftime("%d")
            - if @as_grouped_by_dd[date]
              /-binding.pry
              - @as_grouped_by_dd[date].each do |a|
                %p
                  .subj_link
                    = a.subject
                    .a_dialog{:title => "Basic dialog"}
                      %p This is the default dialog which is useful for displaying information. The dialog window can be moved, resized and closed with the 'x' icon.


            - else 


      -#link_to has an option called confirm, value you give it is ? you want to ask
